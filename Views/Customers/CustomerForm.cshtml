@model ProblemAssignment3.Entities.Customer
<div>
@{
    if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger" role="alert">
            There are errors in the form. Please fix them before submitting.
        </div>
    }
}

@if (TempData["LastActionMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["LastActionMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

	<form method="post" asp-action="SaveCustomer" asp-controller="Customers"
		  enctype="application/x-www-form-urlencoded" asp-route-id="@Model?.CustomerId">
		<input type="hidden" name="group" value="@ViewBag.CurrentGroup" />
		<div class="form-group">
			<label asp-for="Name">Name:</label>
			<input type="text" id="Name" name="Name" value="@Model.Name"  asp-for="Name" class="form-control @(ViewData.ModelState["Name"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")" />
			<span asp-validation-for="Name" class="text-danger"></span>
		</div>

		<div class="form-group mt-2">
			<label asp-for="Address1">Address1:</label>
			<input type="text" id="Address1" name="Address1" value="@Model?.Address1"  asp-for="Address1" class="form-control @(ViewData.ModelState["Address1"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")"/>
		<span asp-validation-for="Address1" class="text-danger"></span>
		</div>
		<input type="hidden" id="CustomerId" name="CustomerId" value="@Model?.CustomerId" />
		<div class="form-group mt-2">
			<label asp-for="Address2">Address2:</label>
			<input type="text" id="Address2" name="Address2" value="@Model?.Address2"  asp-for="Address2" class="form-control" />
		</div>
		 
		<div class="form-group mt-2">
			<label asp-for="City">City:</label>
			<input type="text" id="City" name="City" value="@Model?.City"  asp-for="City" class="form-control @(ViewData.ModelState["City"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")" />
		<span asp-validation-for="City" class="text-danger"></span>
		</div>

		<div class="form-group mt-2">
			<label asp-for="ProvinceOrState">Province/State:</label>
			<input type="text" id="ProvinceOrState" name="ProvinceOrState" value="@Model?.ProvinceOrState"  asp-for="ProvinceOrState" 
			class="form-control @(ViewData.ModelState["ProvinceOrState"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")" />
			<span asp-validation-for="ProvinceOrState" class="text-danger"></span>
		</div>

		<div class="form-group mt-2">
			<label asp-for="ZipOrPostalCode">Zip/Postal Code:</label>
			<input type="text" id="ZipOrPostalCode" name="ZipOrPostalCode" value="@Model?.ZipOrPostalCode" asp-for="ZipOrPostalCode" 
			class="form-control @(ViewData.ModelState["ZipOrPostalCode"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")"  />
		<span asp-validation-for="ZipOrPostalCode" class="text-danger"></span>
		</div>

		<div class="form-group mt-2">
			<label asp-for="Phone">Phone:</label>
			<input type="text" id="Phone" name="Phone" value="@Model?.Phone"  asp-for="Phone" class="form-control @(ViewData.ModelState["Phone"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")"  />
			<span asp-validation-for="Phone" class="text-danger"></span>
		</div>

		<div class="form-group mt-2">
			<label asp-for="ContactFirstName">Contact First Name:</label>
			<input type="text" id="ContactFirstName" name="ContactFirstName" value="@Model?.ContactFirstName" asp-for="ContactFirstName" class="form-control" />
		</div>

		<div class="form-group mt-2">
			<label asp-for="ContactLastName">Contact Last Name:</label>
			<input type="text" id="ContactLastName" name="ContactLastName" value="@Model?.ContactLastName" asp-for="ContactLastName" class="form-control" />
		</div>

		<div class="form-group mt-2">
			<label asp-for="ContactEmail">Contact Email:</label>
			<input type="text" id="ContactEmail" name="ContactEmail" value="@Model?.ContactEmail" asp-for="ContactEmail" 
		class="form-control @(ViewData.ModelState["ContactEmail"]?.Errors.Count > 0 ? "is-invalid bg-light-danger" : "")" />
		<span asp-validation-for="ContactEmail" class="text-danger"></span>
		</div>

		<div class="mt-3">
			<Button class="btn btn-primary">
				@(ViewData["ButtonText"])
			</Button>
			<a asp-action="Customers" asp-controller="Customers" class="btn btn-primary" asp-route-group="@ViewBag.CurrentGroup">Cancel</a>
		</div>

	</form>
</div>